{% extends "base.html" %}
{% load i18n rules react_comments react_ratings %}

{% block title %}{{idea.name}}{% endblock %}
{% block content %}
<div class="idea">
    <div class="resource-navigation">
        <nav class="resource-navigation-breadcrumbs breadcrumbs">
            <ul>
                <li>
                    <a href="{% url 'project-detail' idea.project.slug %}">
                        <i class="fa fa-arrow-left" aria-hidden="true"></i>
                        {% trans 'back to project' %}</a>
                </li>
            </ul>
        </nav>

        {% has_perm 'euth_ideas.modify_idea' request.user idea as show_dropdown %}
        {% if show_dropdown %}
        <div class="resource-navigation-actions dropdown m-right">
            <button
                title="{% trans 'Actions' %}"
                type="button"
                class="dropdown-toggle"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
                id="idea-{{idea.pk}}-actions"
            >
                <i class="fa fa-ellipsis-v" aria-hidden="true"></i>
            </button>
            <ul class="dropdown-menu" aria-labelledby="idea-{{idea.pk}}-actions">
                <li>
                    <a href="{% url 'idea-update' slug=idea.slug %}">{% trans 'Edit' %}</a>
                </li>
                <li>
                    <a href="{% url 'idea-delete' slug=idea.slug %}">{% trans 'Delete' %}</a>
                </li>
            </ul>
        </div>
        {% endif %}
    </div>

    <div class="resource-header">
        <h1 class="resource-header-title">{{ idea.name }}</h1>

        <div class="resource-header-meta">{{ idea.creator.username }}</div>

        <div class="resource-header-action">
            {% react_ratings idea %}
        </div>
    </div>

    <div class="idea-description">
        {{ idea.description | safe }}
    </div>

    {% react_comments idea %}
</div>
{% endblock %}
